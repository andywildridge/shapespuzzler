{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Board2.vue?178e","webpack:///./src/App.vue?cb08","webpack:///./src/App.vue","webpack:///./src/components/Stage.vue","webpack:///./src/components/Board.vue","webpack:///./src/components/Peg.vue","webpack:///./src/components/Peg.vue?3d44","webpack:///./src/components/Board.vue?7db1","webpack:///./src/components/Board2.vue","webpack:///./src/components/Board2.vue?d604","webpack:///./src/components/Board3.vue","webpack:///./src/components/Board3.vue?8d68","webpack:///./src/components/Shape.vue","webpack:///./src/components/Shape.vue?e08e","webpack:///./src/utils/canPlace.js","webpack:///./src/utils/gridComplete.js","webpack:///./src/utils/transformCoord.js","webpack:///./src/utils/unitSize.js","webpack:///./src/utils/snap.js","webpack:///./src/components/Stage.vue?3d0c","webpack:///./src/utils/dice.js","webpack:///./src/utils/shapesDefns.js","webpack:///./src/App.vue?dfb6","webpack:///./src/registerServiceWorker.js","webpack:///./src/main.js","webpack:///./src/components/Board3.vue?f22e","webpack:///./src/components/Stage.vue?c7be","webpack:///./src/components/Board.vue?afb6","webpack:///./src/components/Peg.vue?9af1","webpack:///./src/components/Shape.vue?0f4b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","mouseup","mousedown","mousemove","pegs","shapes","shape","index","id","move","rotate","flip","shapeData","position","peg","x","style","cssProps","props","computed","this","y","render","__scopeId","components","Peg","Array","created","console","log","script","ref","mouseout","dblclick","width","viewBox","viewbox","defnCoords","coord","height","stroke","stroke-width","rx","fill","color","data-target","handleSize","handleDirection","defnToCoords","defn","coords","reduce","arr","row","rowIdx","forEach","col","colIdx","Number","watch","newVal","size","z","mounted","moveStart","moveNow","methods","e","target","dataset","shapeElBCR","$refs","getBoundingClientRect","segmentElBCR","bottom","pageY","top","right","pageX","left","centre","angle","Math","atan2","PI","$emit","startAngle","rotation","el","renderDefn","transform","transformOrigin","zIndex","animate","duration","canPlace","gridPlacings","gridCoords","occupiedSquares","keys","collision","some","square","gridComplete","count","transformCoord","unitSize","snap","snapOffset","round","gridX","gridY","rotateArrayCoords","_","rotateCoords","map","lastValidPosition","Board","Board2","Board3","Shape","idx","moveItem","type","startX","startY","dice","getPegs","die","face","floor","random","Stage","register","process","ready","registered","cached","updatefound","updated","offline","error","createApp","App","mount"],"mappings":"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","file":"js/app.670870f1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/shapespuzzler/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Board2.vue?vue&type=style&index=0&id=e5bd3dac&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=18138258&lang=css\"","<template>\n  <Stage :shapes=\"shapes\" :pegs=\"pegs\" />\n</template>\n\n<script>\nimport Stage from \"./components/Stage.vue\";\nimport getPegs from \"./utils/dice\";\nimport shapes from \"./utils/shapesDefns\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Stage,\n  },\n  data() {\n    return {\n      pegs: getPegs().map((peg) => ({ x: peg.x + 2, y: peg.y + 2 })),\n      shapes,\n    };\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","<template>\n  <Board3 />\n  <div class=\"backstage\">\n    <Board2 />\n  </div>\n  <div\n    @mouseup=\"mouseup\"\n    @mousedown=\"mousedown\"\n    @mousemove=\"mousemove\"\n    class=\"stage\"\n  >\n    <Board :pegs=\"pegs\" />\n    <Shape\n      v-for=\"(shape, index) in shapes\"\n      :key=\"index\"\n      :id=\"index\"\n      @move=\"move\"\n      @rotate=\"rotate\"\n      @flip=\"flip\"\n      :shapeData=\"shapeData[index]\"\n      :position=\"{\n        x: shapeData[index].x,\n        y: shapeData[index].y,\n        z: shapeData[index].z,\n        size: shapeData[index].size,\n        rotate: shapeData[index].rotate || 0,\n      }\"\n    />\n  </div>\n</template>\n\n<script>\nimport Board from \"./Board.vue\";\nimport Board2 from \"./Board2.vue\";\nimport Board3 from \"./Board3.vue\";\nimport Shape from \"./Shape.vue\";\nimport canPlace from \"../utils/canPlace\";\nimport gridComplete from \"../utils/gridComplete\";\nimport snap from \"../utils/snap\";\nimport unitSize from \"../utils/unitSize\";\n\nconst gridPlacings = {};\nlet lastValidPosition = {};\n\nexport default {\n  name: \"Stage\",\n  components: {\n    Board,\n    Board2,\n    Board3,\n    Shape,\n  },\n  props: {\n    shapes: Array,\n    pegs: Array,\n  },\n  created() {\n    gridPlacings.pegs = [...this.pegs];\n    this.shapeData.forEach((shape, idx) => {\n      gridPlacings[idx] = snap(this.shapeData, idx).gridCoords;\n    });\n  },\n  data() {\n    return {\n      moveStart: { x: null, y: null },\n      moveItem: null,\n      shapeData: this.shapes.map((shape) => {\n        const { x, y, color, defn } = shape;\n        return {\n          x: x * unitSize,\n          y: y * unitSize,\n          color,\n          defn,\n        };\n      }),\n    };\n  },\n  methods: {\n    move(id) {\n      this.moveItem = {\n        id,\n        type: \"move\",\n        startX: this.shapeData[id].x,\n        startY: this.shapeData[id].y,\n      };\n      this.shapeData[this.moveItem.id].z = 1;\n      this.shapeData[this.moveItem.id].size = 1.025;\n      lastValidPosition = {\n        x: this.shapeData[this.moveItem.id].x,\n        y: this.shapeData[this.moveItem.id].y,\n        rotate: this.shapeData[this.moveItem.id].rotate,\n      };\n    },\n    rotate(data) {\n      const { centre, id, startAngle } = data;\n      this.moveItem = {\n        id,\n        centre,\n        startAngle,\n        type: \"rotate\",\n      };\n      this.shapeData[this.moveItem.id].z = 1;\n      this.shapeData[this.moveItem.id].size = 1.025;\n      lastValidPosition = {\n        x: this.shapeData[this.moveItem.id].x,\n        y: this.shapeData[this.moveItem.id].y,\n        rotate: this.shapeData[this.moveItem.id].rotate,\n      };\n    },\n    flip(id) {\n      console.log(\"flip\", id);\n    },\n    mousedown(e) {\n      this.moveStart.x = e.pageX;\n      this.moveStart.y = e.pageY;\n    },\n    mouseup() {\n      if (this.moveItem === null) {\n        return false;\n      }\n      this.moveStart.x = null;\n      this.moveStart.y = null;\n\n      let { x, y, rotate, gridCoords } = snap(this.shapeData, this.moveItem.id);\n      //console.log(gridPlacings);\n      if (canPlace(gridPlacings, gridCoords, this.moveItem.id)) {\n        gridPlacings[this.moveItem.id] = gridCoords;\n      } else {\n        ({ x, y, rotate } = lastValidPosition);\n        this.shapeData[this.moveItem.id].x = x;\n        this.shapeData[this.moveItem.id].y = y;\n        this.shapeData[this.moveItem.id].rotate = rotate;\n        ({ x, y, rotate } = snap(this.shapeData, this.moveItem.id));\n      }\n      this.shapeData[this.moveItem.id].x = x;\n      this.shapeData[this.moveItem.id].y = y;\n      this.shapeData[this.moveItem.id].rotate = rotate;\n      this.shapeData[this.moveItem.id].z = 0;\n      this.shapeData[this.moveItem.id].size = 1;\n      this.moveItem = null;\n      if (gridComplete(gridPlacings) === 36) {\n        console.log(\"GRID COMPLETE!\");\n      }\n    },\n    mousemove(e) {\n      if (this.moveItem === null) {\n        return false;\n      }\n      const x = e.pageX - this.moveStart.x;\n      const y = e.pageY - this.moveStart.y;\n      if (this.moveItem.type === \"move\") {\n        this.shapeData[this.moveItem.id].x = this.moveItem.startX + x;\n        this.shapeData[this.moveItem.id].y = this.moveItem.startY + y;\n      } else if (this.moveItem.type === \"rotate\") {\n        const centre = this.moveItem.centre;\n        const angle =\n          (Math.atan2(e.pageY - centre.y, e.pageX - centre.x) * 180) / Math.PI;\n        this.shapeData[this.moveItem.id].rotate =\n          angle - this.moveItem.startAngle;\n      }\n      let { gridCoords } = snap(this.shapeData, this.moveItem.id);\n      if (canPlace(gridPlacings, gridCoords, this.moveItem.id)) {\n        gridPlacings[this.moveItem.id] = gridCoords;\n        lastValidPosition = {\n          x: this.shapeData[this.moveItem.id].x,\n          y: this.shapeData[this.moveItem.id].y,\n          rotate: this.shapeData[this.moveItem.id].rotate,\n        };\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.stage {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  filter: drop-shadow(2px 5px 4px #999);\n}\n.backstage {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  filter: drop-shadow(2px 5px 4px #999);\n}\n</style>\n","<template>\n  <div class=\"board\">\n    <Peg v-for=\"(peg, index) in pegs\" :key=\"index\" :position=\"peg\" />\n  </div>\n</template>\n\n<script>\nimport Peg from \"./Peg.vue\";\n\nexport default {\n  name: \"Shape\",\n  components: {\n    Peg,\n  },\n  props: {\n    pegs: Array,\n  },\n  created() {\n    console.log(this.pegs);\n  },\n};\n\n// console.log(this.pegs);\n</script>\n\n<style scoped>\n.board {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 300px;\n  height: 300px;\n  pointer-events: none;\n}\n</style>\n","<template>\n  <div class=\"peg\" :x=\"x\" :style=\"cssProps\"></div>\n</template>\n\n<script>\nexport default {\n  name: \"Peg\",\n  props: {\n    position: Object,\n  },\n  computed: {\n    cssProps() {\n      return {\n        \"--x\": this.position.x * 50 + 2 + \"px\",\n        \"--y\": this.position.y * 50 + 2 + \"px\",\n      };\n    },\n  },\n};\n</script>\n\n<style scoped>\n.peg {\n  position: absolute;\n  width: 42px;\n  height: 42px;\n  left: var(--x);\n  top: var(--y);\n  border-radius: 50%;\n  pointer-events: none;\n  background: #ff6464;\n  border: 2px solid #616161;\n}\n</style>\n","import { render } from \"./Peg.vue?vue&type=template&id=77b6d95d&scoped=true\"\nimport script from \"./Peg.vue?vue&type=script&lang=js\"\nexport * from \"./Peg.vue?vue&type=script&lang=js\"\n\nimport \"./Peg.vue?vue&type=style&index=0&id=77b6d95d&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-77b6d95d\"\n\nexport default script","import { render } from \"./Board.vue?vue&type=template&id=4e5241e4&scoped=true\"\nimport script from \"./Board.vue?vue&type=script&lang=js\"\nexport * from \"./Board.vue?vue&type=script&lang=js\"\n\nimport \"./Board.vue?vue&type=style&index=0&id=4e5241e4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4e5241e4\"\n\nexport default script","<template>\n  <div class=\"board\"></div>\n</template>\n\n<script></script>\n\n<style scoped>\n.board {\n  position: absolute;\n  top: 100px;\n  left: 100px;\n  width: 300px;\n  height: 300px;\n  pointer-events: none;\n  background-image: url(\"~@/assets/space.svg\");\n  background-size: 16.6666%;\n}\n</style>\n","import { render } from \"./Board2.vue?vue&type=template&id=e5bd3dac&scoped=true\"\nconst script = {}\n\nimport \"./Board2.vue?vue&type=style&index=0&id=e5bd3dac&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-e5bd3dac\"\n\nexport default script","<template>\n  <div class=\"board\"></div>\n</template>\n\n<script></script>\n\n<style scoped>\n.board {\n  position: absolute;\n  top: 100px;\n  left: 100px;\n  width: 300px;\n  height: 300px;\n  pointer-events: none;\n  background: #fff0b8ad;\n  /* background-image: url(\"~@/assets/space2.svg\");\n  background-size: 16.6666%; */\n}\n</style>\n","import { render } from \"./Board3.vue?vue&type=template&id=65e86610&scoped=true\"\nconst script = {}\n\nimport \"./Board3.vue?vue&type=style&index=0&id=65e86610&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-65e86610\"\n\nexport default script","<template>\n  <div\n    ref=\"shape\"\n    @mousedown=\"mousedown\"\n    @mousemove=\"mousemove\"\n    @mouseout=\"mouseout\"\n    @dblclick=\"dblclick\"\n    class=\"shape\"\n  >\n    <svg width=\"100%\" :viewBox=\"viewbox\">\n      <g>\n        <rect\n          v-for=\"(coord, index) in defnCoords\"\n          v-bind:key=\"index\"\n          :x=\"coord.x + 0.02\"\n          :y=\"coord.y + 0.02\"\n          width=\"0.975\"\n          height=\"0.975\"\n          stroke=\"rgb(85 85 85 / 75%)\"\n          stroke-width=\"0.025\"\n          rx=\"0.1\"\n          :fill=\"shapeData.color\"\n          data-target=\"true\"\n        />\n      </g>\n    </svg>\n  </div>\n</template>\n\n<script>\nlet handleSize = 10;\nlet handleDirection = 1;\n\nfunction defnToCoords(defn) {\n  const coords = defn.reduce((arr, row, rowIdx) => {\n    row.forEach((col, colIdx) => {\n      if (col) {\n        arr.push({ x: colIdx, y: rowIdx });\n      }\n    });\n    return arr;\n  }, []);\n  return coords;\n}\n\nexport default {\n  name: \"Shape\",\n  props: {\n    id: Number,\n    shapeData: Object,\n    position: Object,\n  },\n  watch: {\n    position: function (newVal) {\n      this.render(newVal.x, newVal.y, newVal.rotate, newVal.size, newVal.z);\n    },\n  },\n  mounted() {\n    this.render(this.shapeData.x, this.shapeData.y);\n  },\n  data() {\n    return {\n      moveStart: {\n        x: null,\n        y: null,\n      },\n      moveNow: {\n        x: null,\n        y: null,\n      },\n      defnCoords: defnToCoords(this.shapeData.defn),\n      width: this.shapeData.defn[0].length,\n      height: this.shapeData.defn.length,\n      viewbox: `0 0 ${this.shapeData.defn[0].length} ${this.shapeData.defn.length}`, //${this.shapeData.defn[0].length} ${this.shapeData.defn.length}`,\n    };\n  },\n  methods: {\n    mouseout() {\n      this.render(\n        this.shapeData.x,\n        this.shapeData.y,\n        this.shapeData.rotate,\n        this.shapeData.size,\n        this.shapeData.z\n      );\n      handleSize = 10;\n      handleDirection *= -1;\n    },\n    mousemove(e) {\n      if (e.target.dataset.target) {\n        const shapeElBCR = this.$refs.shape.getBoundingClientRect();\n        const segmentElBCR = e.target.getBoundingClientRect();\n        if (\n          (shapeElBCR.bottom - e.pageY < handleSize ||\n            shapeElBCR.top - e.pageY > -handleSize ||\n            shapeElBCR.right - e.pageX < handleSize ||\n            shapeElBCR.left - e.pageX > -handleSize) &&\n          ((segmentElBCR.top - e.pageY > -handleSize &&\n            segmentElBCR.left - e.pageX > -handleSize) ||\n            (segmentElBCR.top - e.pageY > -handleSize &&\n              segmentElBCR.right - e.pageX < handleSize) ||\n            (segmentElBCR.bottom - e.pageY < handleSize &&\n              segmentElBCR.left - e.pageX > -handleSize) ||\n            (segmentElBCR.bottom - e.pageY < handleSize &&\n              segmentElBCR.right - e.pageX < handleSize))\n        ) {\n          this.render(\n            this.shapeData.x,\n            this.shapeData.y,\n            this.shapeData.rotate + handleDirection,\n            this.shapeData.size,\n            this.shapeData.z\n          );\n          handleSize = 15;\n        } else {\n          this.render(\n            this.shapeData.x,\n            this.shapeData.y,\n            this.shapeData.rotate,\n            this.shapeData.size,\n            this.shapeData.z\n          );\n          handleSize = 10;\n          handleDirection *= -1;\n        }\n      }\n    },\n    mousedown(e) {\n      if (e.target.dataset.target) {\n        const shapeElBCR = this.$refs.shape.getBoundingClientRect();\n        if (\n          shapeElBCR.bottom - e.pageY < 10 ||\n          shapeElBCR.top - e.pageY > -10 ||\n          shapeElBCR.right - e.pageX < 10 ||\n          shapeElBCR.left - e.pageX > -10\n        ) {\n          const centre = {\n            x: shapeElBCR.left + shapeElBCR.width / 2,\n            y: shapeElBCR.top + shapeElBCR.height / 2,\n          };\n          const angle =\n            (Math.atan2(e.pageY - centre.y, e.pageX - centre.x) * 180) /\n            Math.PI;\n          this.$emit(\"rotate\", {\n            id: this.id,\n            startAngle: angle - this.position.rotate,\n            centre,\n          });\n        } else {\n          this.$emit(\"move\", this.id);\n        }\n\n        // console.log(\"pos\", this.shapeData);\n      }\n    },\n    dblclick() {\n      this.$emit(\"flip\", this.id);\n    },\n    render(x, y, rotation = 0, size = 1, z = 0) {\n      const el = this.$refs.shape;\n      const renderDefn = {\n        width: `${this.width * 50}px`,\n        height: `${this.height * 50}px`,\n        transform: `translate(${x}px, ${y}px) rotate(${rotation}deg) scale(${size})`,\n        transformOrigin: \"center\",\n        zIndex: z,\n      };\n\n      el.animate([renderDefn, renderDefn], { duration: 0, fill: \"forwards\" });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.shape {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 50px;\n  height: 50px;\n  pointer-events: none;\n}\n.shape.hover {\n  transform: rotate(2deg);\n}\nrect {\n  pointer-events: initial;\n  background: url(\"~@/assets/wood.png\");\n}\n</style>\n","import { render } from \"./Shape.vue?vue&type=template&id=6bfe5d78&scoped=true\"\nimport script from \"./Shape.vue?vue&type=script&lang=js\"\nexport * from \"./Shape.vue?vue&type=script&lang=js\"\n\nimport \"./Shape.vue?vue&type=style&index=0&id=6bfe5d78&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6bfe5d78\"\n\nexport default script","function canPlace(gridPlacings, gridCoords, id) {\n  const occupiedSquares = Object.keys(gridPlacings).reduce((arr, key) => {\n    // ignore current shape position & get list of occupied grid squares\n    if (id !== ~~key || key === \"pegs\") {\n      gridPlacings[key].forEach((i) => arr.push(i));\n    }\n    return arr;\n  }, []);\n  const collision = gridCoords.some((i) => {\n    return occupiedSquares.some(\n      (square) => square.x === i.x && square.y === i.y\n    );\n  });\n  return !collision;\n}\n\nexport default canPlace;\n","function gridComplete(gridPlacings) {\n  const occupiedSquares = Object.keys(gridPlacings).reduce((count, key) => {\n    gridPlacings[key].forEach((i) => {\n      if (i.x >= 2 && i.x <= 7 && i.y >= 2 && i.y <= 7) {\n        count++;\n      }\n    });\n    return count;\n  }, 0);\n  return occupiedSquares;\n}\n\nexport default gridComplete;\n","function transformCoord(x, y, width, height, rotate) {\n  if (rotate === 180) {\n    return { x: width - x, y: height - y };\n  } else if (rotate === 90) {\n    return { x: height - y, y: x };\n  } else if (rotate === 270) {\n    return { x: y, y: width - x };\n  } else {\n    return { x, y };\n  }\n}\n\nexport default transformCoord;\n","const unitSize = 50;\n\nexport default unitSize;\n","import transformCoord from \"./transformCoord\";\nimport unitSize from \"./unitSize\";\n\nfunction snap(shapeData, id) {\n  let snapOffset = 0;\n  const width = shapeData[id].defn[0].length;\n  const height = shapeData[id].defn.length;\n  let rotate = shapeData[id].rotate\n    ? (Math.round(shapeData[id].rotate / 90) * 90) % 360\n    : 0;\n  // const flip = shapeData[id].flip ? true : false;\n  if (rotate < 0) {\n    rotate = 360 + rotate;\n  }\n\n  // offset height and width on rotate\n  if (rotate % 180 === 90 && width !== height) {\n    snapOffset = (width - height) * (unitSize / 2);\n  }\n  const x =\n    Math.round((shapeData[id].x + snapOffset) / unitSize) * unitSize -\n    snapOffset;\n  const y =\n    Math.round((shapeData[id].y - snapOffset) / unitSize) * unitSize +\n    snapOffset;\n\n  const gridX = x / unitSize + snapOffset / unitSize;\n  const gridY = y / unitSize - snapOffset / unitSize;\n\n  const gridCoords = rotateArrayCoords(\n    shapeData[id].defn,\n    rotate,\n    // flip,\n    gridX,\n    gridY\n  );\n\n  return { x, y, rotate, gridCoords };\n}\n\nfunction rotateArrayCoords(arr, rotate, gridX, gridY) {\n  const width = arr[0].length - 1;\n  const height = arr.length - 1;\n  const coords = arr.reduce((coords, row, y) => {\n    row.forEach((_, x) => {\n      if (row[x]) {\n        coords.push({ x, y });\n      }\n    });\n    return coords;\n  }, []);\n  // const rotateUnits = rotate / 90;\n  const rotateCoords = coords.map((i) =>\n    transformCoord(i.x, i.y, width, height, rotate)\n  );\n\n  return rotateCoords.map((i) => ({ x: i.x + gridX, y: i.y + gridY }));\n}\n\nexport default snap;\n","import { render } from \"./Stage.vue?vue&type=template&id=aeb226a8&scoped=true\"\nimport script from \"./Stage.vue?vue&type=script&lang=js\"\nexport * from \"./Stage.vue?vue&type=script&lang=js\"\n\nimport \"./Stage.vue?vue&type=style&index=0&id=aeb226a8&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-aeb226a8\"\n\nexport default script","const dice = [\n  [\n    [0, 5],\n    [5, 0],\n  ],\n  [\n    [2, 0],\n    [2, 1],\n    [1, 2],\n    [1, 1],\n    [0, 1],\n    [1, 0],\n  ],\n  [\n    [4, 4],\n    [4, 5],\n    [3, 5],\n    [4, 3],\n    [3, 4],\n    [5, 4],\n  ],\n  [\n    [1, 3],\n    [1, 4],\n    [0, 2],\n    [2, 5],\n    [0, 0],\n    [0, 3],\n  ],\n  [\n    [3, 1],\n    [2, 4],\n    [3, 3],\n    [3, 2],\n    [2, 3],\n    [2, 2],\n  ],\n  [\n    [3, 0],\n    [5, 5],\n    [5, 3],\n    [4, 2],\n    [5, 2],\n    [4, 1],\n  ],\n  [\n    [4, 0],\n    [5, 1],\n    [1, 5],\n    [0, 4],\n    [1, 5],\n  ],\n];\n\nfunction getPegs() {\n  return dice.reduce((pegs, die) => {\n    const face = die[Math.floor(Math.random() * die.length)];\n    pegs.push({ x: face[0], y: face[1] });\n    return pegs;\n  }, []);\n}\n\nexport default getPegs;\n","const shapes = [\n  {\n    x: 0,\n    y: 10,\n    color: \"purple\",\n    defn: [\n      [0, 1],\n      [1, 1],\n    ],\n  },\n  {\n    x: 2,\n    y: 10,\n    color: \"yellow\",\n    defn: [\n      [0, 1, 0],\n      [1, 1, 1],\n    ],\n  },\n  {\n    x: 6,\n    y: 10,\n    color: \"orange\",\n    defn: [[1, 1, 1]],\n  },\n  {\n    x: 0,\n    y: 8,\n    color: \"cadetblue\",\n    defn: [\n      [1, 0, 0],\n      [1, 1, 1],\n    ],\n  },\n  {\n    x: 4,\n    y: 10,\n    color: \"red\",\n    defn: [\n      [1, 1, 0],\n      [0, 1, 1],\n    ],\n  },\n  { x: 7, y: 9, color: \"brown\", defn: [[1, 1]] },\n  {\n    x: 3,\n    y: 9,\n    color: \"grey\",\n    defn: [[1, 1, 1, 1]],\n  },\n  {\n    x: 9,\n    y: 10,\n    color: \"green\",\n    defn: [\n      [1, 1],\n      [1, 1],\n    ],\n  },\n  {\n    x: 9,\n    y: 9,\n    color: \"blue\",\n    defn: [[1]],\n  },\n];\n\nexport default shapes;\n","import { render } from \"./App.vue?vue&type=template&id=18138258\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=18138258&lang=css\"\nscript.render = render\n\nexport default script","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    },\n  });\n}\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\n\ncreateApp(App).mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Board3.vue?vue&type=style&index=0&id=65e86610&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Stage.vue?vue&type=style&index=0&id=aeb226a8&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Board.vue?vue&type=style&index=0&id=4e5241e4&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Peg.vue?vue&type=style&index=0&id=77b6d95d&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Shape.vue?vue&type=style&index=0&id=6bfe5d78&scoped=true&lang=css\""],"sourceRoot":""}